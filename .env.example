# API Gateway
PORT=5000
NODE_ENV=development

# Database (PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/noble_novacore
POSTGRES_USER=noble
POSTGRES_PASSWORD=changeme
POSTGRES_DB=noble_novacore

# Redis
REDIS_URL=redis://localhost:6379
REDIS_STM_DB=0
REDIS_ITM_DB=1

# Authentication
JWT_SECRET=your-secret-key-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-change-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Service-to-Service Authentication
# CRITICAL: This must be different from JWT_SECRET
# Generate with: openssl rand -base64 32
SERVICE_JWT_SECRET=your-service-jwt-secret-change-in-production
SERVICE_TOKEN_EXPIRES_IN=24h

# Stripe (will be requested when needed)
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
STRIPE_BASIC_PRICE_ID=price_xxx
STRIPE_PRO_PRICE_ID=price_xxx

# Frontend URL (for Stripe redirects and email links)
FRONTEND_URL=http://localhost:5173

# Email Configuration (SMTP)
# For production, use actual SMTP service (SendGrid, AWS SES, etc.)
# For development, use Ethereal Email for testing (https://ethereal.email)
EMAIL_FROM=noreply@novacore.ai
SMTP_HOST=smtp.ethereal.email
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-ethereal-username
SMTP_PASSWORD=your-ethereal-password

# LLM Configuration
LLM_MODEL=mistral:instruct
# When running via docker-compose, use the service hostname
OLLAMA_URL=http://ollama:11434
GPU_ENABLED=false

# LLM Provider Orchestration
LLM_PROVIDER_PRIORITY=["ollama","gemini","openai"]
LLM_PROVIDER_TIMEOUTS={"ollama":60,"gemini":30,"openai":45}
LLM_PROVIDER_COOLDOWN_SEC=60
LLM_PROVIDER_RETRY_LIMIT=2

# Gemini Cloud Provider (placeholder credentials)
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=models/gemini-2.5-flash-preview-09-2025
GEMINI_API_URL=https://generativelanguage.googleapis.com

# OpenAI Cloud Provider (placeholder credentials)
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4.1
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_ORGANIZATION=
OPENAI_PROJECT=

# Service URLs (Development)
AUTH_SERVICE_URL=http://localhost:3001
INTELLIGENCE_SERVICE_URL=http://localhost:8000
MEMORY_SERVICE_URL=http://localhost:8001
POLICY_SERVICE_URL=http://localhost:4000
NGS_SERVICE_URL=http://localhost:9000
NOTES_SERVICE_URL=http://localhost:8085
STUDY_SERVICE_URL=http://localhost:8090
QUIZ_SERVICE_URL=http://localhost:8091

# PostgreSQL Connectivity
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=noble_novacore
POSTGRES_USER=noble
POSTGRES_PASSWORD=changeme

NOTES_DATABASE_URL=postgresql://noble:changeme@localhost:5432/noble_novacore
STUDY_DATABASE_URL=postgresql://noble:changeme@localhost:5432/noble_novacore
QUIZ_DATABASE_URL=postgresql://noble:changeme@localhost:5432/noble_novacore

# Quiz Engine Configuration
QUIZ_STUDY_ENGINE_URL=http://localhost:8090
QUIZ_QUIZ_ARTIFACTS_TABLE=study_quiz_artifacts
QUIZ_QUIZ_SESSIONS_TABLE=quiz_sessions

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# Study Engine Providers
STUDY_INTELLIGENCE_SERVICE_URL=http://localhost:5000/internal/intelligence

# Memory Configuration
STM_TTL_SECONDS=3600
ITM_TTL_SECONDS=604800
LTM_PROMOTION_THRESHOLD=3

# Subscription Limits
FREE_TIER_MEMORY_GB=1
FREE_TIER_TOKENS_DAY=1000
BASIC_TIER_MEMORY_GB=10
BASIC_TIER_TOKENS_DAY=50000
PRO_TIER_MEMORY_GB=-1
PRO_TIER_TOKENS_DAY=-1
